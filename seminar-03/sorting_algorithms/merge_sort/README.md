# Merge Sort (сортировка слиянием)

Merge sort — устойчивый алгоритм сортировки по принципу «разделяй и властвуй»:
1) делит массив на две части,
2) рекурсивно сортирует каждую часть,
3) сливает две отсортированные части в одну.

## Свойства
- **Стабильность:** да (при слиянии важно брать элемент из левой части при равенстве `<=`)
- **Время:**
  - лучшее: `O(n log n)`
  - среднее: `O(n log n)`
  - худшее: `O(n log n)`
- **Память:**
  - классическая реализация: `O(n)` доп. памяти под буфер
- **Плюсы:**
  - гарантированная `O(n log n)` даже в худшем случае
  - стабильность
  - хорошо работает на больших массивах
- **Минусы:**
  - требует доп. память `O(n)`
  - рекурсия (в Python может быть ограничение по глубине, но для `n <= 1e5` обычно ок)

---

## Идея слияния (merge)
Пусть есть две отсортированные части `a[l..m)` и `a[m..r)`.
Два указателя `i=l`, `j=m`. Пока есть элементы в любой части:
- если левая часть закончилась — берём из правой
- если правая закончилась — берём из левой
- иначе берём меньший из `a[i]` и `a[j]`
- **при равенстве берём из левой (`<=`)**, чтобы сохранить стабильность

---

## Варианты реализации

### 1) Обычная (понятная)
- в `merge()` создаётся временный буфер под текущий отрезок
- проще читать, но больше аллокаций

### 2) Оптимизированная
- создаётся **один** буфер размера `n` и переиспользуется
- меньше аллокаций, обычно быстрее на больших `n`

---

## Формат ввода/вывода (как в задачах на сортировку)
Ввод:
- `n`
- `n` целых чисел

Вывод:
- массив в неубывающем порядке
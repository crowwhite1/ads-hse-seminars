# Обратная польская запись (Postfix / RPN)

## Что требуется
Дано арифметическое выражение в **инфиксной** записи (как обычно пишут люди), содержащее:
- целые числа
- круглые скобки `(` `)`
- операции `+`, `-`, `*`, `/`

Нужно перевести выражение в **постфиксную** запись (обратную польскую запись, RPN).

**Важно:** во входе *каждый оператор, операнд и скобка отделены пробелом*.


## Инфиксная vs постфиксная

### Инфиксная (обычная)
`7 * 8 + ( 3 - 5 )`

### Постфиксная (RPN)
`7 8 * 3 5 - +`

Идея постфиксной записи: оператор идёт **после** двух своих операндов.  
Такую запись удобно вычислять стеком без приоритетов и скобок.


## Приоритеты операций
В задаче используются стандартные приоритеты:

- `*` и `/` — выше
- `+` и `-` — ниже

Также все операции считаются **левоассоциативными**:
- `a - b - c` читается как `(a - b) - c`


## Алгоритм перевода (Shunting-yard)
Используется классический алгоритм со **стеком операторов**:

### Поддерживаем:
- **выход** (куда печатаем результат)
- **стек** (куда складываем операторы и скобки)

### Правила обработки токенов
Пусть текущий токен `t`:

1. **Если `t` — число**  
   → сразу отправляем в выход

2. **Если `t` — оператор `+ - * /`**  
   → пока на вершине стека оператор с приоритетом **не меньше**, чем у `t`, вытаскиваем его в выход  
   → затем кладём `t` в стек

3. **Если `t == "("`**  
   → кладём в стек

4. **Если `t == ")"`**  
   → выталкиваем из стека в выход всё до `"("`  
   → саму `"("` удаляем (в выход не пишем)

5. **После обработки всех токенов**  
   → выталкиваем оставшиеся операторы из стека в выход


## Пример 1 (из условия)

Ввод:
```7 * 8 + ( 3 - 5 )```


Результат:
```7 8 * 3 5 - +```


Пояснение кратко:
- `7 8 *` — сначала умножение
- `(3 - 5)` превращается в `3 5 -`
- затем складываем: `... +`


## Почему нужен стек
Стек хранит операторы, пока не станет понятно, что их пора выводить:
- при встрече оператора с меньшим/равным приоритетом
- при закрывающей скобке
- в конце выражения

Так мы корректно учитываем **и приоритеты, и скобки**.


## Сложность
Пусть `n` — количество токенов во входе.

- Время: **O(n)**  
  каждый токен кладётся/достаётся из стека ограниченное число раз
- Память: **O(n)** в худшем случае (если много операторов и скобок)


## Итог
Перевод в обратную польскую запись решается алгоритмом со стеком операторов:
- числа сразу в выход
- операторы — по приоритету через стек
- скобки управляют моментом “сброса” операторов